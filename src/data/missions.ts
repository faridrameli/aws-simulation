export interface MissionStep {
  id: string;
  title: string;
  description: string;
  targetSelector: string;
  route?: string;
  popoverPosition: 'top' | 'bottom' | 'left' | 'right';
  validation: {
    type: 'route' | 'storeCheck' | 'click';
    route?: string;
    storeKey?: string;
    storeProperty?: string;
    expectedCountIncrease?: boolean;
  };
}

export interface MissionDefinition {
  id: string;
  title: string;
  description: string;
  service: string;
  difficulty: 'beginner' | 'intermediate' | 'advanced';
  steps: MissionStep[];
}

export const MISSIONS: MissionDefinition[] = [
  // ─── BEGINNER ────────────────────────────────────────────
  {
    id: 'ec2-launch',
    title: 'Launch Your First EC2 Instance',
    description: 'EC2 (Elastic Compute Cloud) lets you run virtual servers in the cloud. Learn how to launch your first instance — the foundation of most AWS workloads.',
    service: 'EC2',
    difficulty: 'beginner',
    steps: [
      {
        id: 'ec2-launch-1',
        title: 'Navigate to EC2',
        description: 'EC2 is the most fundamental AWS service. It provides resizable compute capacity as virtual machines called "instances". Click the EC2 card to open the EC2 console.',
        targetSelector: '[data-mission="service-ec2"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/ec2' },
      },
      {
        id: 'ec2-launch-2',
        title: 'Go to Instances',
        description: 'The Instances page shows all your virtual servers. Each instance runs an operating system (Linux, Windows, etc.) and can be started, stopped, or terminated.',
        targetSelector: '[data-mission="ec2-instances-link"]',
        route: '/ec2',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/ec2/instances' },
      },
      {
        id: 'ec2-launch-3',
        title: 'Launch a new instance',
        description: 'Click "Launch instance" to create a new virtual server. In real AWS, this would provision actual hardware in a data center within seconds.',
        targetSelector: '[data-mission="ec2-launch-btn"]',
        route: '/ec2/instances',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/ec2/instances/launch' },
      },
      {
        id: 'ec2-launch-4',
        title: 'Configure and launch',
        description: 'Choose an instance type (determines CPU/RAM), an AMI (the OS image), and a key pair (for SSH access). In real AWS, t2.micro is free tier eligible — great for learning!',
        targetSelector: '[data-mission="ec2-launch-form"]',
        route: '/ec2/instances/launch',
        popoverPosition: 'left',
        validation: { type: 'storeCheck', storeKey: 'ec2', storeProperty: 'instances', expectedCountIncrease: true },
      },
      {
        id: 'ec2-launch-5',
        title: 'Instance launched!',
        description: 'Your instance is now running! In real AWS, you could SSH into it, deploy applications, or use it as a web server. Notice the instance state, IP addresses, and availability zone.',
        targetSelector: '[data-mission="ec2-instances-table"]',
        route: '/ec2/instances',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 's3-bucket',
    title: 'Create an S3 Bucket',
    description: 'S3 (Simple Storage Service) provides virtually unlimited object storage. Learn to create a bucket — the container for your files in the cloud.',
    service: 'S3',
    difficulty: 'beginner',
    steps: [
      {
        id: 's3-bucket-1',
        title: 'Navigate to S3',
        description: 'S3 is AWS\'s object storage service. It stores any type of file (images, videos, backups, logs) with 99.999999999% durability. That\'s 11 nines!',
        targetSelector: '[data-mission="service-s3"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/s3' },
      },
      {
        id: 's3-bucket-2',
        title: 'Go to Buckets',
        description: 'A bucket is a container for objects (files). Bucket names must be globally unique across ALL AWS accounts. Think of it like a top-level folder.',
        targetSelector: '[data-mission="s3-buckets-link"]',
        route: '/s3',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/s3/buckets' },
      },
      {
        id: 's3-bucket-3',
        title: 'Create a bucket',
        description: 'Click "Create bucket" to make a new storage container. You\'ll choose a name and region. In real AWS, the region determines where your data is physically stored.',
        targetSelector: '[data-mission="s3-create-btn"]',
        route: '/s3/buckets',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/s3/buckets/create' },
      },
      {
        id: 's3-bucket-4',
        title: 'Configure and create',
        description: 'Give your bucket a unique name. You can enable versioning (keeps history of changes), encryption (protects data at rest), and control public access (keep it blocked by default!).',
        targetSelector: '[data-mission="s3-create-form"]',
        route: '/s3/buckets/create',
        popoverPosition: 'left',
        validation: { type: 'storeCheck', storeKey: 's3', storeProperty: 'buckets', expectedCountIncrease: true },
      },
    ],
  },
  {
    id: 'iam-security',
    title: 'Secure Your Cloud with IAM',
    description: 'IAM (Identity and Access Management) controls who can access your AWS resources. Learn to create users and groups — the foundation of AWS security.',
    service: 'IAM',
    difficulty: 'beginner',
    steps: [
      {
        id: 'iam-1',
        title: 'Navigate to IAM',
        description: 'IAM is a global service (not region-specific) that manages authentication (who are you?) and authorization (what can you do?). It\'s free to use and critical for security.',
        targetSelector: '[data-mission="service-iam"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/iam' },
      },
      {
        id: 'iam-2',
        title: 'Go to Users',
        description: 'IAM Users represent people or applications that interact with AWS. The root account should never be used for daily tasks — create IAM users instead!',
        targetSelector: '[data-mission="iam-users-link"]',
        route: '/iam',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/iam/users' },
      },
      {
        id: 'iam-3',
        title: 'Create a user',
        description: 'Create an IAM user. In real AWS, each person on your team gets their own user with specific permissions. Never share credentials!',
        targetSelector: '[data-mission="iam-create-user-btn"]',
        route: '/iam/users',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'iam', storeProperty: 'users', expectedCountIncrease: true },
      },
      {
        id: 'iam-4',
        title: 'User created!',
        description: 'Great! You\'ve created an IAM user. In real AWS, you\'d attach policies to control what this user can access. The principle of least privilege says: only grant the permissions needed.',
        targetSelector: '[data-mission="iam-users-table"]',
        route: '/iam/users',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'lambda-function',
    title: 'Go Serverless with Lambda',
    description: 'Lambda lets you run code without provisioning servers. You pay only for the compute time you consume. Create your first serverless function.',
    service: 'Lambda',
    difficulty: 'beginner',
    steps: [
      {
        id: 'lambda-1',
        title: 'Navigate to Lambda',
        description: 'AWS Lambda is the pioneer of serverless computing. Upload your code and Lambda handles everything — servers, scaling, patching. You\'re charged per millisecond of execution.',
        targetSelector: '[data-mission="service-lambda"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/lambda' },
      },
      {
        id: 'lambda-2',
        title: 'Go to Functions',
        description: 'A Lambda function is a self-contained piece of code that runs in response to events — like an API call, a file upload to S3, or a scheduled timer.',
        targetSelector: '[data-mission="lambda-functions-link"]',
        route: '/lambda',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/lambda/functions' },
      },
      {
        id: 'lambda-3',
        title: 'Create a function',
        description: 'Click "Create function" to build a new Lambda. You\'ll pick a runtime (Node.js, Python, Java, etc.) and configure memory. In real AWS, Lambda supports up to 10 GB of memory.',
        targetSelector: '[data-mission="lambda-create-btn"]',
        route: '/lambda/functions',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/lambda/functions/create' },
      },
      {
        id: 'lambda-4',
        title: 'Configure and deploy',
        description: 'Give your function a name, choose a runtime, and set the memory. Lambda automatically scales — from zero to thousands of concurrent executions. No servers to manage!',
        targetSelector: '[data-mission="lambda-create-form"]',
        route: '/lambda/functions/create',
        popoverPosition: 'left',
        validation: { type: 'storeCheck', storeKey: 'lambda', storeProperty: 'functions', expectedCountIncrease: true },
      },
      {
        id: 'lambda-5',
        title: 'Function deployed!',
        description: 'Your Lambda function is ready! In real AWS, you could trigger it via API Gateway, S3 events, CloudWatch schedules, and 200+ other event sources. Lambda is the backbone of serverless architectures.',
        targetSelector: '[data-mission="lambda-functions-table"]',
        route: '/lambda/functions',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'dynamodb-table',
    title: 'Create a NoSQL Table',
    description: 'DynamoDB is a fully managed NoSQL database that delivers single-digit millisecond performance at any scale. Create your first table.',
    service: 'DynamoDB',
    difficulty: 'beginner',
    steps: [
      {
        id: 'dynamo-1',
        title: 'Navigate to DynamoDB',
        description: 'DynamoDB is a key-value and document database. Unlike relational databases, it\'s schemaless — you don\'t need to define columns upfront. It scales automatically and is fully managed by AWS.',
        targetSelector: '[data-mission="service-dynamodb"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/dynamodb' },
      },
      {
        id: 'dynamo-2',
        title: 'Go to Tables',
        description: 'DynamoDB organizes data into tables. Each table requires a partition key (like a primary key) that uniquely distributes your data. Optionally add a sort key for range queries.',
        targetSelector: '[data-mission="dynamodb-tables-link"]',
        route: '/dynamodb',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/dynamodb/tables' },
      },
      {
        id: 'dynamo-3',
        title: 'Create a table',
        description: 'Click "Create table" to define a new DynamoDB table. You\'ll choose a partition key and billing mode. On-demand mode charges per request — great for unpredictable workloads.',
        targetSelector: '[data-mission="dynamodb-create-btn"]',
        route: '/dynamodb/tables',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'dynamodb', storeProperty: 'tables', expectedCountIncrease: true },
      },
      {
        id: 'dynamo-4',
        title: 'Table created!',
        description: 'Your DynamoDB table is active! It can handle 10+ trillion requests per day and scale to petabytes. Companies like Amazon.com, Lyft, and Airbnb use DynamoDB for their most critical workloads.',
        targetSelector: '[data-mission="dynamodb-tables-list"]',
        route: '/dynamodb/tables',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'sns-notifications',
    title: 'Set Up Notifications with SNS',
    description: 'SNS (Simple Notification Service) enables pub/sub messaging. Send messages to multiple subscribers via email, SMS, HTTP, or Lambda. Create your first topic.',
    service: 'SNS',
    difficulty: 'beginner',
    steps: [
      {
        id: 'sns-1',
        title: 'Navigate to SNS',
        description: 'SNS is a fully managed pub/sub messaging service. A "topic" is a communication channel — when you publish a message to a topic, ALL subscribers receive it simultaneously.',
        targetSelector: '[data-mission="service-sns"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/sns' },
      },
      {
        id: 'sns-2',
        title: 'Go to Topics',
        description: 'Topics are the core of SNS. Each topic can have thousands of subscribers. Use cases include sending alerts, triggering Lambda functions, and fan-out processing.',
        targetSelector: '[data-mission="sns-topics-link"]',
        route: '/sns',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/sns/topics' },
      },
      {
        id: 'sns-3',
        title: 'Create a topic',
        description: 'Create an SNS topic to start sending notifications. In real AWS, you\'d then add subscribers (email, SMS, SQS queues, Lambda functions) to receive messages published to this topic.',
        targetSelector: '[data-mission="sns-create-btn"]',
        route: '/sns/topics',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'sns', storeProperty: 'topics', expectedCountIncrease: true },
      },
      {
        id: 'sns-4',
        title: 'Topic created!',
        description: 'Your SNS topic is ready! SNS delivers billions of messages daily. Common patterns: CloudWatch alarms → SNS → email alerts, or S3 uploads → SNS → Lambda processing.',
        targetSelector: '[data-mission="sns-topics-list"]',
        route: '/sns/topics',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'sqs-queue',
    title: 'Build a Message Queue with SQS',
    description: 'SQS (Simple Queue Service) decouples your application components. Messages are stored in a queue until a consumer processes them. Create your first queue.',
    service: 'SQS',
    difficulty: 'beginner',
    steps: [
      {
        id: 'sqs-1',
        title: 'Navigate to SQS',
        description: 'SQS is a fully managed message queuing service. Unlike SNS (pub/sub), SQS is point-to-point: each message is processed by exactly ONE consumer. This decouples producers from consumers.',
        targetSelector: '[data-mission="service-sqs"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/sqs' },
      },
      {
        id: 'sqs-2',
        title: 'Go to Queues',
        description: 'SQS offers two queue types: Standard (best-effort ordering, at-least-once delivery) and FIFO (strict ordering, exactly-once processing). Standard is faster; FIFO guarantees order.',
        targetSelector: '[data-mission="sqs-queues-link"]',
        route: '/sqs',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/sqs/queues' },
      },
      {
        id: 'sqs-3',
        title: 'Create a queue',
        description: 'Create an SQS queue. Standard queues handle nearly unlimited throughput. FIFO queues support up to 3,000 messages per second. Choose based on whether you need strict ordering.',
        targetSelector: '[data-mission="sqs-create-btn"]',
        route: '/sqs/queues',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'sqs', storeProperty: 'queues', expectedCountIncrease: true },
      },
      {
        id: 'sqs-4',
        title: 'Queue created!',
        description: 'Your SQS queue is ready! SQS + SNS together form the foundation of event-driven architectures. SNS broadcasts messages; SQS buffers them for reliable processing.',
        targetSelector: '[data-mission="sqs-queues-list"]',
        route: '/sqs/queues',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },

  // ─── INTERMEDIATE ────────────────────────────────────────
  {
    id: 'vpc-network',
    title: 'Build a Network with VPC',
    description: 'VPC (Virtual Private Cloud) is your private network in AWS. Learn to create a VPC with subnets — required before launching most AWS resources.',
    service: 'VPC',
    difficulty: 'intermediate',
    steps: [
      {
        id: 'vpc-1',
        title: 'Navigate to VPC',
        description: 'A VPC is your own isolated network in the AWS cloud. Think of it as your private data center. Every AWS account gets a default VPC, but you\'ll often create custom ones.',
        targetSelector: '[data-mission="service-vpc"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/vpc' },
      },
      {
        id: 'vpc-2',
        title: 'Go to Your VPCs',
        description: 'This page lists all your VPCs. Each VPC has a CIDR block (IP address range like 10.0.0.0/16) that defines the network space.',
        targetSelector: '[data-mission="vpc-your-vpcs-link"]',
        route: '/vpc',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/vpc/vpcs' },
      },
      {
        id: 'vpc-3',
        title: 'Create a VPC',
        description: 'Create a VPC with a CIDR block. A /16 gives you 65,536 IP addresses. In production, plan your CIDR carefully — you can\'t change it after creation!',
        targetSelector: '[data-mission="vpc-create-btn"]',
        route: '/vpc/vpcs',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'vpc', storeProperty: 'vpcs', expectedCountIncrease: true },
      },
      {
        id: 'vpc-4',
        title: 'Create a subnet',
        description: 'Subnets divide your VPC into smaller networks. Public subnets have internet access, private subnets don\'t. Use multiple subnets across Availability Zones for high availability.',
        targetSelector: '[data-mission="vpc-subnets-link"]',
        route: '/vpc',
        popoverPosition: 'right',
        validation: { type: 'storeCheck', storeKey: 'vpc', storeProperty: 'subnets', expectedCountIncrease: true },
      },
      {
        id: 'vpc-5',
        title: 'Network created!',
        description: 'You\'ve built a VPC with a subnet! In real AWS, you\'d also create an Internet Gateway (for internet access), NAT Gateway (for private subnet outbound traffic), and Route Tables (to direct traffic).',
        targetSelector: '[data-mission="vpc-dashboard-cards"]',
        route: '/vpc',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'rds-database',
    title: 'Launch a Managed Database',
    description: 'RDS (Relational Database Service) makes it easy to set up and operate relational databases in the cloud. Launch your first managed database instance.',
    service: 'RDS',
    difficulty: 'intermediate',
    steps: [
      {
        id: 'rds-1',
        title: 'Navigate to RDS',
        description: 'RDS manages relational databases for you — automated backups, patching, scaling, and failover. It supports MySQL, PostgreSQL, MariaDB, Oracle, SQL Server, and Amazon Aurora.',
        targetSelector: '[data-mission="service-rds"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/rds' },
      },
      {
        id: 'rds-2',
        title: 'Go to Databases',
        description: 'The Databases page shows your RDS instances. Each instance runs a specific database engine and instance class (which determines CPU, memory, and network performance).',
        targetSelector: '[data-mission="rds-databases-link"]',
        route: '/rds',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/rds/databases' },
      },
      {
        id: 'rds-3',
        title: 'Create a database',
        description: 'Click "Create database" to launch a new managed database. You\'ll choose an engine, instance class, and storage. In real AWS, db.t3.micro is free tier eligible.',
        targetSelector: '[data-mission="rds-create-btn"]',
        route: '/rds/databases',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/rds/databases/create' },
      },
      {
        id: 'rds-4',
        title: 'Configure and launch',
        description: 'Choose your engine (PostgreSQL is popular for new projects), set a master username and password, and pick an instance class. Enable Multi-AZ for production workloads — it provides automatic failover.',
        targetSelector: '[data-mission="rds-create-form"]',
        route: '/rds/databases/create',
        popoverPosition: 'left',
        validation: { type: 'storeCheck', storeKey: 'rds', storeProperty: 'instances', expectedCountIncrease: true },
      },
      {
        id: 'rds-5',
        title: 'Database launched!',
        description: 'Your database is creating! RDS handles backups (35-day retention), security patches, and monitoring. In real AWS, you\'d connect to it via an endpoint URL using your favorite database client.',
        targetSelector: '[data-mission="rds-databases-table"]',
        route: '/rds/databases',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'route53-dns',
    title: 'Configure DNS with Route 53',
    description: 'Route 53 is AWS\'s DNS service. It translates domain names (like example.com) into IP addresses. Set up your first hosted zone for domain management.',
    service: 'Route53',
    difficulty: 'intermediate',
    steps: [
      {
        id: 'r53-1',
        title: 'Navigate to Route 53',
        description: 'Route 53 is named after TCP/UDP port 53 — the standard port for DNS. It provides domain registration, DNS routing, and health checking. It\'s 100% SLA — AWS\'s most reliable service.',
        targetSelector: '[data-mission="service-route53"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/route53' },
      },
      {
        id: 'r53-2',
        title: 'Go to Hosted Zones',
        description: 'A hosted zone is a container for DNS records for a domain. It defines how traffic is routed for that domain. Public zones handle internet traffic; private zones work within VPCs.',
        targetSelector: '[data-mission="route53-hosted-zones-link"]',
        route: '/route53',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/route53/hosted-zones' },
      },
      {
        id: 'r53-3',
        title: 'Create a hosted zone',
        description: 'Create a hosted zone for your domain. In real AWS, you\'d then add DNS records (A, CNAME, MX, etc.) to point your domain to AWS resources like EC2 instances, load balancers, or CloudFront distributions.',
        targetSelector: '[data-mission="route53-create-btn"]',
        route: '/route53/hosted-zones',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'route53', storeProperty: 'hostedZones', expectedCountIncrease: true },
      },
      {
        id: 'r53-4',
        title: 'Hosted zone created!',
        description: 'Your hosted zone is ready! Route 53 supports routing policies like weighted (A/B testing), latency-based (fastest region), geolocation (by user location), and failover (disaster recovery).',
        targetSelector: '[data-mission="route53-zones-list"]',
        route: '/route53/hosted-zones',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'cloudwatch-monitoring',
    title: 'Monitor with CloudWatch',
    description: 'CloudWatch collects metrics, logs, and events from your AWS resources. Set up an alarm to monitor your infrastructure and get notified when things go wrong.',
    service: 'CloudWatch',
    difficulty: 'intermediate',
    steps: [
      {
        id: 'cw-1',
        title: 'Navigate to CloudWatch',
        description: 'CloudWatch is AWS\'s monitoring and observability service. It collects metrics (CPU usage, network traffic), logs (application output), and can trigger automated actions via alarms.',
        targetSelector: '[data-mission="service-cloudwatch"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/cloudwatch' },
      },
      {
        id: 'cw-2',
        title: 'Go to Alarms',
        description: 'CloudWatch Alarms watch a single metric and trigger actions when the metric crosses a threshold. For example: alert me when CPU usage exceeds 80% for 5 minutes.',
        targetSelector: '[data-mission="cloudwatch-alarms-link"]',
        route: '/cloudwatch',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/cloudwatch/alarms' },
      },
      {
        id: 'cw-3',
        title: 'Create an alarm',
        description: 'Create a CloudWatch alarm. Pick a metric to monitor and set a threshold. In real AWS, alarms can send SNS notifications, trigger Auto Scaling actions, or invoke Lambda functions.',
        targetSelector: '[data-mission="cloudwatch-create-alarm-btn"]',
        route: '/cloudwatch/alarms',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'cloudwatch', storeProperty: 'alarms', expectedCountIncrease: true },
      },
      {
        id: 'cw-4',
        title: 'Alarm created!',
        description: 'Your alarm is monitoring! CloudWatch is essential for production: it\'s the first place you look when something goes wrong. Combine alarms with dashboards for a complete observability setup.',
        targetSelector: '[data-mission="cloudwatch-alarms-list"]',
        route: '/cloudwatch/alarms',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },

  // ─── ADVANCED ────────────────────────────────────────────
  {
    id: 'secrets-manager',
    title: 'Store Secrets Securely',
    description: 'Secrets Manager helps you protect access to your applications by storing API keys, database credentials, and other secrets. Never hardcode secrets in your code!',
    service: 'SecretsManager',
    difficulty: 'advanced',
    steps: [
      {
        id: 'sm-1',
        title: 'Navigate to Secrets Manager',
        description: 'Secrets Manager stores sensitive data like database passwords, API keys, and tokens. It encrypts secrets at rest using KMS and can automatically rotate credentials on a schedule.',
        targetSelector: '[data-mission="service-secretsmanager"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/secretsmanager' },
      },
      {
        id: 'sm-2',
        title: 'Go to Secrets',
        description: 'Each secret has a name, value (the sensitive data), and optional rotation configuration. Applications retrieve secrets at runtime via the AWS SDK — never bake them into code or config files.',
        targetSelector: '[data-mission="secretsmanager-secrets-link"]',
        route: '/secretsmanager',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/secretsmanager/secrets' },
      },
      {
        id: 'sm-3',
        title: 'Store a secret',
        description: 'Create a new secret. Common use cases: RDS database credentials, third-party API keys, OAuth tokens, and SSH keys. Secrets Manager charges $0.40 per secret per month in real AWS.',
        targetSelector: '[data-mission="secretsmanager-create-btn"]',
        route: '/secretsmanager/secrets',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'secretsmanager', storeProperty: 'secrets', expectedCountIncrease: true },
      },
      {
        id: 'sm-4',
        title: 'Secret stored!',
        description: 'Your secret is securely stored! In real AWS, your applications would call GetSecretValue to retrieve it at runtime. Secrets Manager can also auto-rotate RDS passwords — eliminating manual credential management.',
        targetSelector: '[data-mission="secretsmanager-secrets-list"]',
        route: '/secretsmanager/secrets',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'cloudformation-iac',
    title: 'Infrastructure as Code with CloudFormation',
    description: 'CloudFormation lets you define your entire AWS infrastructure in a template file. Deploy, update, and delete resources as a single unit called a "stack".',
    service: 'CloudFormation',
    difficulty: 'advanced',
    steps: [
      {
        id: 'cfn-1',
        title: 'Navigate to CloudFormation',
        description: 'CloudFormation is AWS\'s Infrastructure as Code (IaC) service. Instead of manually clicking through the console, you describe your resources in JSON or YAML templates. This makes infrastructure reproducible, version-controlled, and reviewable.',
        targetSelector: '[data-mission="service-cloudformation"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/cloudformation' },
      },
      {
        id: 'cfn-2',
        title: 'Go to Stacks',
        description: 'A stack is a collection of AWS resources managed as a single unit. When you create a stack, CloudFormation provisions all the resources defined in your template. Delete the stack, and all resources are cleaned up.',
        targetSelector: '[data-mission="cloudformation-stacks-link"]',
        route: '/cloudformation',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/cloudformation/stacks' },
      },
      {
        id: 'cfn-3',
        title: 'Create a stack',
        description: 'Create a CloudFormation stack. In real AWS, you\'d upload a YAML/JSON template defining resources like EC2 instances, S3 buckets, and IAM roles — all provisioned automatically in the correct order with dependency resolution.',
        targetSelector: '[data-mission="cloudformation-create-btn"]',
        route: '/cloudformation/stacks',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'cloudformation', storeProperty: 'stacks', expectedCountIncrease: true },
      },
      {
        id: 'cfn-4',
        title: 'Stack created!',
        description: 'Your stack is deployed! CloudFormation supports drift detection (finding manual changes), change sets (previewing updates), and rollback on failure. It\'s essential for production AWS environments — never build infrastructure by hand.',
        targetSelector: '[data-mission="cloudformation-stacks-list"]',
        route: '/cloudformation/stacks',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'ecs-containers',
    title: 'Deploy Containers with ECS',
    description: 'ECS (Elastic Container Service) runs Docker containers at scale. Create a cluster to host your containerized applications without managing servers.',
    service: 'ECS',
    difficulty: 'advanced',
    steps: [
      {
        id: 'ecs-1',
        title: 'Navigate to ECS',
        description: 'ECS is AWS\'s container orchestration service. It runs Docker containers across a cluster of EC2 instances or on AWS Fargate (serverless). Think of it as a simpler alternative to Kubernetes.',
        targetSelector: '[data-mission="service-ecs"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/ecs' },
      },
      {
        id: 'ecs-2',
        title: 'Go to Clusters',
        description: 'An ECS cluster is a logical grouping of tasks and services. It\'s the foundation — you need a cluster before you can run any containers. A cluster can use EC2 instances, Fargate, or both.',
        targetSelector: '[data-mission="ecs-clusters-link"]',
        route: '/ecs',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/ecs/clusters' },
      },
      {
        id: 'ecs-3',
        title: 'Create a cluster',
        description: 'Create an ECS cluster. In real AWS, you\'d choose between Fargate (serverless — AWS manages the servers) and EC2 (you manage the instances). Fargate is simpler; EC2 gives more control.',
        targetSelector: '[data-mission="ecs-create-btn"]',
        route: '/ecs/clusters',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'ecs', storeProperty: 'clusters', expectedCountIncrease: true },
      },
      {
        id: 'ecs-4',
        title: 'Cluster created!',
        description: 'Your ECS cluster is ready! Next steps in real AWS: create a Task Definition (your container blueprint), then run it as a Service (keeps desired count running) or a standalone Task. ECS integrates with ALB for load balancing.',
        targetSelector: '[data-mission="ecs-clusters-list"]',
        route: '/ecs/clusters',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'eks-kubernetes',
    title: 'Run Kubernetes with EKS',
    description: 'EKS (Elastic Kubernetes Service) runs managed Kubernetes clusters. If your team already uses Kubernetes, EKS handles the control plane so you can focus on workloads.',
    service: 'EKS',
    difficulty: 'advanced',
    steps: [
      {
        id: 'eks-1',
        title: 'Navigate to EKS',
        description: 'EKS runs the Kubernetes control plane across multiple Availability Zones. Kubernetes is the industry standard for container orchestration — used by Google, Spotify, and Airbnb. EKS is the managed way to run it on AWS.',
        targetSelector: '[data-mission="service-eks"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/eks' },
      },
      {
        id: 'eks-2',
        title: 'Go to Clusters',
        description: 'An EKS cluster consists of a control plane (managed by AWS) and worker nodes (EC2 instances or Fargate) where your pods run. The control plane runs etcd, the API server, and scheduler.',
        targetSelector: '[data-mission="eks-clusters-link"]',
        route: '/eks',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/eks/clusters' },
      },
      {
        id: 'eks-3',
        title: 'Create a cluster',
        description: 'Create an EKS cluster. In real AWS, this takes ~10 minutes as AWS provisions the Kubernetes control plane. You\'d then add a node group (worker nodes) and use kubectl to deploy workloads.',
        targetSelector: '[data-mission="eks-create-btn"]',
        route: '/eks/clusters',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'eks', storeProperty: 'clusters', expectedCountIncrease: true },
      },
      {
        id: 'eks-4',
        title: 'Cluster created!',
        description: 'Your EKS cluster is provisioning! EKS vs ECS: use EKS if your team knows Kubernetes or needs portability across clouds. Use ECS if you want a simpler, AWS-native container service. Both are production-grade.',
        targetSelector: '[data-mission="eks-clusters-list"]',
        route: '/eks/clusters',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'apigateway-api',
    title: 'Build an API with API Gateway',
    description: 'API Gateway lets you create, publish, and manage APIs at any scale. Build a REST or HTTP API to expose your backend services to the world.',
    service: 'APIGateway',
    difficulty: 'intermediate',
    steps: [
      {
        id: 'apigw-1',
        title: 'Navigate to API Gateway',
        description: 'API Gateway is a fully managed service for creating APIs. It handles authentication, throttling, caching, and request/response transformation. It\'s the front door for your Lambda functions, EC2 instances, or any HTTP endpoint.',
        targetSelector: '[data-mission="service-apigateway"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/apigateway' },
      },
      {
        id: 'apigw-2',
        title: 'Go to APIs',
        description: 'API Gateway supports three types: REST APIs (full-featured), HTTP APIs (simpler, cheaper, faster), and WebSocket APIs (real-time two-way communication). HTTP APIs are recommended for most new projects.',
        targetSelector: '[data-mission="apigateway-apis-link"]',
        route: '/apigateway',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/apigateway/apis' },
      },
      {
        id: 'apigw-3',
        title: 'Create an API',
        description: 'Create an API. In real AWS, you\'d define routes (like GET /users), integrate them with Lambda functions or HTTP backends, and deploy to a stage (dev, staging, prod). API Gateway auto-generates an HTTPS endpoint.',
        targetSelector: '[data-mission="apigateway-create-btn"]',
        route: '/apigateway/apis',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'apigateway', storeProperty: 'apis', expectedCountIncrease: true },
      },
      {
        id: 'apigw-4',
        title: 'API created!',
        description: 'Your API is ready! The classic serverless pattern: API Gateway + Lambda + DynamoDB. API Gateway handles HTTP, Lambda runs your code, DynamoDB stores data. No servers to manage, scales to millions of requests.',
        targetSelector: '[data-mission="apigateway-apis-list"]',
        route: '/apigateway/apis',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'cloudfront-cdn',
    title: 'Set Up a CDN with CloudFront',
    description: 'CloudFront is AWS\'s Content Delivery Network. It caches your content at 400+ edge locations worldwide, making your websites and APIs faster for global users.',
    service: 'CloudFront',
    difficulty: 'intermediate',
    steps: [
      {
        id: 'cf-1',
        title: 'Navigate to CloudFront',
        description: 'CloudFront delivers content from edge locations closest to your users. A request for your website in Tokyo hits a Tokyo edge location instead of traveling to your origin server in Virginia. This reduces latency from 200ms to ~10ms.',
        targetSelector: '[data-mission="service-cloudfront"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/cloudfront' },
      },
      {
        id: 'cf-2',
        title: 'Go to Distributions',
        description: 'A distribution is a CloudFront deployment. It defines your origin (where content comes from — S3, EC2, or any HTTP server), caching behavior, and which edge locations to use.',
        targetSelector: '[data-mission="cloudfront-distributions-link"]',
        route: '/cloudfront',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/cloudfront/distributions' },
      },
      {
        id: 'cf-3',
        title: 'Create a distribution',
        description: 'Create a CloudFront distribution. Specify your origin domain (like an S3 bucket or ALB). CloudFront gives you a *.cloudfront.net domain, or you can use your own domain with a custom SSL certificate.',
        targetSelector: '[data-mission="cloudfront-create-btn"]',
        route: '/cloudfront/distributions',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'cloudfront', storeProperty: 'distributions', expectedCountIncrease: true },
      },
      {
        id: 'cf-4',
        title: 'Distribution created!',
        description: 'Your CDN is deploying! CloudFront supports Lambda@Edge (run code at edge locations), origin failover (automatic fallback), and real-time logs. It\'s used by Amazon.com, Slack, and Spotify.',
        targetSelector: '[data-mission="cloudfront-distributions-list"]',
        route: '/cloudfront/distributions',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'elasticbeanstalk-deploy',
    title: 'Deploy an App with Elastic Beanstalk',
    description: 'Elastic Beanstalk is the easiest way to deploy web applications on AWS. Upload your code and Beanstalk handles provisioning, load balancing, scaling, and monitoring.',
    service: 'ElasticBeanstalk',
    difficulty: 'beginner',
    steps: [
      {
        id: 'eb-1',
        title: 'Navigate to Elastic Beanstalk',
        description: 'Elastic Beanstalk is a PaaS (Platform as a Service) — similar to Heroku but on AWS. You upload your code, and it automatically provisions EC2 instances, load balancers, auto-scaling groups, and CloudWatch monitoring.',
        targetSelector: '[data-mission="service-elasticbeanstalk"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/elasticbeanstalk' },
      },
      {
        id: 'eb-2',
        title: 'Go to Applications',
        description: 'A Beanstalk application is a logical container for environments. An environment runs your code on a specific platform (Node.js, Python, Java, Docker, etc.). You can have dev, staging, and prod environments.',
        targetSelector: '[data-mission="elasticbeanstalk-applications-link"]',
        route: '/elasticbeanstalk',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/elasticbeanstalk/applications' },
      },
      {
        id: 'eb-3',
        title: 'Create an application',
        description: 'Create a Beanstalk application. In real AWS, you\'d then create an environment, upload your code (zip file or Docker image), and Beanstalk deploys it with zero-downtime rolling updates.',
        targetSelector: '[data-mission="elasticbeanstalk-create-btn"]',
        route: '/elasticbeanstalk/applications',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'elasticbeanstalk', storeProperty: 'applications', expectedCountIncrease: true },
      },
      {
        id: 'eb-4',
        title: 'Application created!',
        description: 'Your Beanstalk application is ready! Beanstalk is ideal for developers who want AWS power without infrastructure complexity. You still have full access to underlying resources (EC2, RDS, etc.) if you need to customize.',
        targetSelector: '[data-mission="elasticbeanstalk-apps-list"]',
        route: '/elasticbeanstalk/applications',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'codepipeline-cicd',
    title: 'Automate Deployments with CodePipeline',
    description: 'CodePipeline automates your release process. Build a CI/CD pipeline that takes code from source, builds it, tests it, and deploys it — all automatically.',
    service: 'CodePipeline',
    difficulty: 'advanced',
    steps: [
      {
        id: 'cp-1',
        title: 'Navigate to CodePipeline',
        description: 'CodePipeline is AWS\'s continuous delivery service. It orchestrates the steps needed to release your software: pull code from GitHub, build with CodeBuild, test, and deploy to EC2, ECS, Lambda, or Beanstalk.',
        targetSelector: '[data-mission="service-codepipeline"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/codepipeline' },
      },
      {
        id: 'cp-2',
        title: 'Go to Pipelines',
        description: 'A pipeline defines stages (Source → Build → Test → Deploy). Each stage has actions that run in parallel or sequence. Pipelines trigger automatically on code changes — enabling true continuous delivery.',
        targetSelector: '[data-mission="codepipeline-pipelines-link"]',
        route: '/codepipeline',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/codepipeline/pipelines' },
      },
      {
        id: 'cp-3',
        title: 'Create a pipeline',
        description: 'Create a CI/CD pipeline. In real AWS, you\'d connect a source (GitHub, CodeCommit), add a build stage (CodeBuild compiles and tests), and a deploy stage (CodeDeploy, ECS, or CloudFormation).',
        targetSelector: '[data-mission="codepipeline-create-btn"]',
        route: '/codepipeline/pipelines',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'codepipeline', storeProperty: 'pipelines', expectedCountIncrease: true },
      },
      {
        id: 'cp-4',
        title: 'Pipeline created!',
        description: 'Your CI/CD pipeline is ready! Every git push now triggers automatic builds and deployments. CodePipeline integrates with 25+ AWS services and third-party tools like GitHub, Jenkins, and Terraform.',
        targetSelector: '[data-mission="codepipeline-pipelines-list"]',
        route: '/codepipeline/pipelines',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
  {
    id: 'elasticache-caching',
    title: 'Add Caching with ElastiCache',
    description: 'ElastiCache provides in-memory caching with Redis or Memcached. Speed up your applications by caching frequently accessed data instead of hitting your database.',
    service: 'ElastiCache',
    difficulty: 'advanced',
    steps: [
      {
        id: 'ecache-1',
        title: 'Navigate to ElastiCache',
        description: 'ElastiCache delivers microsecond response times by storing data in memory (RAM) instead of on disk. It supports Redis (rich data structures, persistence, pub/sub) and Memcached (simple, multi-threaded caching).',
        targetSelector: '[data-mission="service-elasticache"]',
        popoverPosition: 'bottom',
        validation: { type: 'route', route: '/elasticache' },
      },
      {
        id: 'ecache-2',
        title: 'Go to Clusters',
        description: 'An ElastiCache cluster is a group of cache nodes. Redis clusters support replication (read replicas) and clustering (sharding data across nodes). Memcached clusters distribute data across nodes automatically.',
        targetSelector: '[data-mission="elasticache-clusters-link"]',
        route: '/elasticache',
        popoverPosition: 'right',
        validation: { type: 'route', route: '/elasticache/clusters' },
      },
      {
        id: 'ecache-3',
        title: 'Create a cluster',
        description: 'Create a cache cluster. Redis is recommended for most use cases — it supports strings, lists, sets, sorted sets, hashes, and streams. Use cases: session storage, leaderboards, real-time analytics, and caching database queries.',
        targetSelector: '[data-mission="elasticache-create-btn"]',
        route: '/elasticache/clusters',
        popoverPosition: 'bottom',
        validation: { type: 'storeCheck', storeKey: 'elasticache', storeProperty: 'clusters', expectedCountIncrease: true },
      },
      {
        id: 'ecache-4',
        title: 'Cluster created!',
        description: 'Your cache cluster is launching! A common pattern: application checks ElastiCache first, and only queries RDS on a cache miss. This can reduce database load by 90%+ and cut response times from 50ms to <1ms.',
        targetSelector: '[data-mission="elasticache-clusters-list"]',
        route: '/elasticache/clusters',
        popoverPosition: 'top',
        validation: { type: 'click' },
      },
    ],
  },
];
